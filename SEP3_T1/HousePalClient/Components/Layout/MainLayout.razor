@inherits LayoutComponentBase
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthProvider

<div class="main-layout">
    <!-- Banner and Sidebar Section -->
    <div class="header-sidebar-container">
        <!-- Banner with logo and menu button -->
        <div class="banner">
            <div class="menu-toggle" @onclick="ToggleMenu">
                <button class="menu-btn">☰</button>
            </div>
            <div class="logo">
                <img src="/images/logo.png" alt="HousePal Logo" />
            </div>
        </div>

        <!-- Sidebar Navigation Menu -->
        <div class="sidebar" @class="(isMenuOpen ? 'open' : 'closed')">
            <ul>
                <li><button @onclick="NavigateToProfile">My Profile</button></li>
                <li><button @onclick="NavigateToMyHouses">My Houses</button></li>
                <li><button @onclick="NavigateToMyListings">My Listings</button></li>
                <li><button @onclick="LogOut">Log Out</button></li>
            </ul>
        </div>
    </div>

    <!-- Main Content Section -->
    <div class="content-area">
        @Body
    </div>
</div>

@code {
    private bool isMenuOpen = false;

    // Navigation methods for the sidebar buttons
    private void ToggleMenu()
    {
        isMenuOpen = !isMenuOpen;
    }

    private void NavigateToProfile()
    {
        Navigation.NavigateTo("/profile");
    }

    private void NavigateToMyHouses()
    {
        Navigation.NavigateTo("/houses");
    }

    private void NavigateToMyListings()
    {
        Navigation.NavigateTo("/listings");
    }

    private void LogOut()
    {
        // Handle log out logic (clear session, cookies, etc.)
        Navigation.NavigateTo("/login");
    }
}