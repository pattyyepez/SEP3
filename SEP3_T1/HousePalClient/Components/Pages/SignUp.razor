
@page "/signup" 
@using HousePalClient.Components.Layout
@using Microsoft.AspNetCore.Components
@layout LoginLayout
@inject NavigationManager Navigation

<div class="page-container">
    <!-- Banner -->
    <div class="banner">
        <img src="/images/logo.png" alt="HousePal Logo" class="logo"/>
    </div>

    <!-- About -->
    <div class="about-container">
        <div class="about-text-box">
            <h2>Travel more, <br/> worry less! </h2>
            <p>
                Discover free & unique homestays around the world, in exchange for caring for adorable pets
            </p>
        </div>
    </div>

    <!-- New Feature Containers Section -->
    <div class="features-container">
        <div class="feature-box">
            <img src="/images/Better1.png" alt="Pets Icon" class="feature-icon" />
            <h3>Better for your Pets</h3>
            <p>Pets stay comfortable in their own home, receiving consistent care from a trusted sitter.</p>
        </div>
        <div class="feature-box">
            <img src="/images/Better2.png" alt="Environment Icon" class="feature-icon" />
            <h3>Better for the Earth</h3>
            <p>House sitting reduces the need for additional resources and energy, promoting sustainable living.</p>
        </div>
        <div class="feature-box">
            <img src="/images/Better3.png" alt="Wallet Icon" class="feature-icon" />
            <h3>Better for Your Wallet</h3>
            <p>Save on accommodation and caretaking costs, making it a budget-friendly option.</p>
        </div>
    </div>

    <!-- Signup Container with Account Options -->
    <div class="signup-container">
        <div class="account-options">
            <div class="option">
                <img src="/images/HouseOwner.png" alt="House Owner Icon" class="option-image" />
                <h2>House Owner</h2>
                <p>As a house owner, you can manage your property and connect with reliable house sitters. Post your requirements, communicate with sitters, and ensure your property is well-cared for when you’re away.</p>
                <button class="btn btn-primary" onclick="window.location.href = '/house-owner-signup'">Continue as House Owner</button>
            </div>
            <div class="option">
                <img src="/images/HouseSitter.png" alt="House Sitter Icon" class="option-image" />
                <h2>House Sitter</h2>
                <p>As a house sitter, find opportunities to care for homes, connect with owners, and explore new environments. Help maintain and secure properties while owners are away, and enjoy a unique living experience.</p>
                <button class="btn btn-primary" onclick="window.location.href = '/house-sitter-signup'">Continue as House Sitter</button>
            </div>
        </div>
    </div>
</div>

<style>

    @@font-face {
        font-family: 'LogoFont';
        src: url('/fonts/logo-font.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
    }
    
    .page-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        background-color: white;
    }

    /* Banner */
    .banner {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 105vh;
        min-width: 100vw;
        background: linear-gradient(135deg, #ff7e5f, #feb47b); /* Coral/Orange Gradient */
    }
    
    .logo {
        max-height: 15vh;
        margin-top: 65em;
        margin-bottom: 0.5em;
        align-self: center;
        
    }

    .about-container {
        background-image: url('/images/AboutPicture.jpg'); /* Replace with the path to your image */
        background-size: cover;
        background-position: center;
        border-radius: 15px;
        width: calc(100% - 10em); /* Full width with padding */
        height: 550px; /* Adjust height as needed */
        margin: 2em; /* Spacing between banner and signup options */
    }

    .about-text-box {
        background-color: rgba(255, 255, 255, 0.98); /* Semi-transparent white background */
        border-radius: 10px;
        padding: 1em;
        width: 35%; /* Takes up less than half of the about-container width */
        height:  35%;
        position: absolute;
        top: 50%;
        right: 9em;
        transform: translateY(-40%); /* Centers vertically */
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
    }

    /* About Text Styling */
    .about-text-box h2 {
        font-size: 4em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.5em;
        position: absolute;
        
    }

    .about-text-box p {
        font-size: 1.2rem;
        color: #3d3d3d;
        font-family: Futura;
        line-height: 1.5;
        transform: translateY(280%); /* Centers vertically */
    }

    /* Styling for the three-feature containers */
    .features-container {
        display: flex;
        justify-content: space-around;
        gap: 0.7em;
        width: calc(100% - 8em);
        padding: 0.5em;
    }

    .feature-box {
        background-color: rgba(36, 109, 194, 0); /* Light blue color */
        border-radius: 12px;
        padding: 0em;
        width: 30%; /* Each box takes roughly 1/3 of the space */
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0);
        text-align: center;
    }

    .feature-box h3 {
        font-size: 2.5em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.75em;
    }

    .feature-box p {
        font-size: 1em;
        font-family: Futura;
        color: #3d3d3d;
    }

    .feature-icon {
        width: 200px; /* Adjust size as needed */
        height: auto;
        margin-bottom: 1em; /* Adds space between the image and title */
    }

    /* Main Signup Container */
    .signup-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: calc(100vh - 80px); /* Adjust height to account for banner */
        width: 100vw;
        background-color: white;
        padding: 0em;
        margin: 0em;
        
    }

    /* Account Options */
    .account-options {
        display: flex;
        gap: 2.75em;
        justify-content: center;
        align-items: flex-start;
        padding: 0em;
        margin: 0em;
    }

    /* Option Box Styling */
    .option {
        background-color: #fff3f0;
        border-radius: 15px;
        padding: 2em;
        width: 500px;
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .option-image {
        width: 170px;
        height: 170px;
        margin-bottom: 1em;
    }

    .option h2 {
        font-size: 2.5em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.5em;
    }

    .option p {
        font-size: 1rem;
        color: #3d3d3d;
        font-family: Futura;
        line-height: 1.5;
        margin-bottom: 1.5em;
    }
</style>

@code {
    private string[] CarouselImages = { "/images/loginBackgrounds/1.jpg", "/images/loginBackgrounds/2.jpg", "/images/loginBackgrounds/3.jpg" };
    private int CurrentImageIndex = 0;
    private Timer _carouselTimer;

    protected override void OnInitialized()
    {
        _carouselTimer = new Timer(ChangeImage, null, 0, 3000); // Change image every 3 seconds
    }

    private async void ChangeImage(object state)
    {
        CurrentImageIndex = (CurrentImageIndex + 1) % CarouselImages.Length;
        await InvokeAsync(StateHasChanged); // Ensure UI updates on main thread
    }

    private void ShowFields(string accountType)
    {
        Console.WriteLine($"Continue as {accountType} clicked.");
    }

    public void Dispose()
    {
        _carouselTimer?.Dispose();
    }
}
