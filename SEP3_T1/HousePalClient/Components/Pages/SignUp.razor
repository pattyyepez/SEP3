@page "/" 
@page "/signup" 
@using HousePalClient.Components.Layout
@using Microsoft.AspNetCore.Components
@layout LoginLayout
@inject NavigationManager Navigation

<div class="page-container">
    <!-- Banner -->
    <div class="banner">
        <img src="/images/logo.png" alt="HousePal Logo" class="logo"/>
    </div>

    <!-- About -->
    <div class="about-container">
        <div class="about-text-box">
            <h2>Travel more, <br/> worry less! </h2>
            <p>
                Discover free & unique homestays around the world, in exchange for caring for adorable pets
            </p>
        </div>
    </div>

    <!-- Features Containers Section -->
    <div class="features-container">
        <div class="feature-box">
            <img src="/images/Better1.png" alt="Pets Icon" class="feature-icon" />
            <h3>Better for your Pets</h3>
            <p>Pets stay comfortable in their own home, receiving consistent care from a trusted sitter.<br><br>The quality of our sitters is ensured by our verified review system, through which you will be able to read past performances of a specific House Sitter.<br><br>Throughout your entire experience you will have absolute control over who stays in your house, and communicate with your sitters through private channels.</p>
        </div>
        <div class="feature-box">
            <img src="/images/Better2.png" alt="Environment Icon" class="feature-icon" />
            <h3>Better for the Earth</h3>
            <p>House sitting contributes to sustainable living by reducing the need for additional resources and energy consumption.<br><br>When a house sitter stays in an empty home, it eliminates the need for an extra residence to be used or maintained, which would otherwise produce lots of waste.<br><br>Additionally, house sitting prevents the environmental impact of building new homes or relying on hotel accommodations. </p>
        </div>
        <div class="feature-box">
            <img src="/images/Better3.png" alt="Wallet Icon" class="feature-icon" />
            <h3>Better for Your Wallet</h3>
            <p>House sitting offers a budget-friendly solution by saving on accommodation and caretaking costs.<br><br>Homeowners avoid paying for a property manager or cleaning services, while house sitters benefit from free lodging in exchange for looking after the property.<br><br>This mutually beneficial arrangement helps both parties save money, making it an affordable option for those seeking temporary housing.</p>
        </div>
    </div>

    <!-- Signup Container with Account Options -->
    <div class="account-options">
        <div class="option">
            <img src="/images/HouseOwner.png" alt="House Owner Icon" class="option-image" />
            <h2>Become a House Owner</h2>
            <p>As a house owner, you can manage your property and connect with reliable house sitters. Post your requirements, communicate with sitters, and ensure your property is well-cared for when you’re away.</p>
            <button class="btn btn-primary" onclick="window.location.href = '/house-owner-signup'">Continue as House Owner</button>
        </div>
        <div class="option">
            <img src="/images/HouseSitter.png" alt="House Sitter Icon" class="option-image" />
            <h2>Become a House Sitter</h2>
            <p>As a house sitter, find opportunities to care for homes, connect with owners, and explore new environments. Help maintain and secure properties while owners are away, and enjoy a unique living experience.</p>
            <button class="btn btn-primary" onclick="window.location.href = '/house-sitter-signup'">Continue as House Sitter</button>
        </div>
    </div>

    <!-- Login message -->
    <div class="login-message">
        <p>Already have an account? <a href="/login" class="login-link">Login here.</a></p>
    </div>
</div>

<style>

    @@font-face {
        font-family: 'LogoFont';
        src: url('fonts/logo-font.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
    }

    @@font-face {
        font-family: 'FuturaFont';
        src: url('fonts/futura.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
    }
    
    .page-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        background-color: white;
    }

    /* Banner */
    .banner {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 105vh;
        min-width: 100vw;
        background: linear-gradient(135deg, #ff7e5f, #feb47b); /* Coral/Orange Gradient */
    }
    
    .logo {
        max-height: 15vh;
        margin-top: 80em;
        margin-bottom: 0.5em;
        align-self: center;
        
    }

    .about-container {
        animation: rotateBackground 25s infinite !important;
        background-size: cover;
        background-position: center;
        border-radius: 15px;
        width: calc(100% - 10em); /* Full width with padding */
        height: 550px; /* Adjust height as needed */
        margin: 2em; /* Spacing between banner and signup options */
    }

    @@keyframes rotateBackground {
        0% { background-image: url('images/AboutPicture.jpg'); }
        25% { background-image: url('images/loginBackgrounds/1.jpg'); }
        50% { background-image: url('images/loginBackgrounds/2.jpg'); }
        75% { background-image: url('images/loginBackgrounds/3.jpg'); }
        100% { background-image: url('images/AboutPicture.jpg'); }
    }

    .about-text-box {
        background-color: rgba(255, 255, 255, 0.98); /* Semi-transparent white background */
        border-radius: 10px;
        padding: 1em;
        width: 35%; /* Takes up less than half of the about-container width */
        height:  35%;
        position: absolute;
        top: 50%;
        right: 9em;
        transform: translateY(-40%); /* Centers vertically */
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
    }

    /* About Text Styling */
    .about-text-box h2 {
        font-size: 4em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.5em;
        position: absolute;
        
    }

    .about-text-box p {
        font-size: 1.2rem;
        color: #3d3d3d;
        font-family: 'FuturaFont', sans-serif;
        line-height: 1.5;
        transform: translateY(280%); /* Centers vertically */
    }

    /* Styling for the three-feature containers */
    .features-container {
        display: flex;
        justify-content: space-around;
        gap: 0.7em;
        width: calc(100% - 8em);
        margin-bottom: 1.7em;
    }

    .feature-box {
        width: 30%; /* Each box takes roughly 1/3 of the space */
        text-align: center;
    }

    .feature-box h3 {
        font-size: 2.5em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.75em;
    }

    .feature-box p {
        font-size: 1.1em;
        font-family: 'FuturaFont', sans-serif;
        color: #3d3d3d;
    }

    .feature-icon {
        width: 200px; /* Adjust size as needed */
        height: auto;
        margin-bottom: 1em; /* Adds space between the image and title */
    }

    /* Account Options */
    .account-options {
        display: flex;
        gap: 2.75em;
        justify-content: center;
        align-items: flex-start;
        margin-bottom: 2em;
    }
    
    .option {
        background-color: #fff3f0;
        border-radius: 15px;
        padding: 2em;
        width: 500px;
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .option-image {
        width: 170px;
        height: 170px;
        margin-bottom: 1em;
    }

    .option h2 {
        font-size: 2.5em;
        color: #ff7e5f;
        font-family: 'LogoFont', sans-serif;
        margin-bottom: 0.5em;
    }

    .option p {
        font-size: 1rem;
        color: #3d3d3d;
        font-family: 'FuturaFont', sans-serif;
        line-height: 1.5;
        margin-bottom: 1.75em;
    }

    /* Login Message */
    
    .login-message {
        margin-bottom: 1.75em;
        text-align: center;
        font-family: 'FuturaFont', sans-serif;
        color: #3d3d3d;
        font-size: 1.2em;
    }
    
    .login-link {
        color: #256EC2;
        font-weight: bold;
        text-decoration: none;
    }

    .login-link:hover{
        color: #143F72;
        text-decoration: underline;
    }
    
</style>

@code {
    private string[] CarouselImages = { "/images/loginBackgrounds/1.jpg", "/images/loginBackgrounds/2.jpg", "/images/loginBackgrounds/3.jpg" };
    private int CurrentImageIndex = 0;
    private Timer _carouselTimer;

    protected override void OnInitialized()
    {
        _carouselTimer = new Timer(ChangeImage, null, 0, 3000); // Change image every 3 seconds
    }

    private async void ChangeImage(object state)
    {
        CurrentImageIndex = (CurrentImageIndex + 1) % CarouselImages.Length;
        await InvokeAsync(StateHasChanged); // Ensure UI updates on main thread
    }

    private void ShowFields(string accountType)
    {
        Console.WriteLine($"Continue as {accountType} clicked.");
    }

    public void Dispose()
    {
        _carouselTimer?.Dispose();
    }
}
